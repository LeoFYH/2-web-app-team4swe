{% extends "base.html" %}
{% block content %}
<h2 class="title">Task List</h2>

<div class="filters">
  <a class="pill {% if active=='all' %}active{% endif %}" href="{{ url_for('tasks', filter='all') }}">All tasks</a>
  <a class="pill {% if active=='upcoming' %}active{% endif %}" href="{{ url_for('tasks', filter='upcoming') }}">Upcoming</a>
  <a class="pill {% if active=='today' %}active{% endif %}" href="{{ url_for('tasks', filter='today') }}">Due Today</a>
  <a class="pill" href="{{ url_for('tags') }}">By Tags</a>
</div>

{% if tasks|length == 0 %}
  <div class="empty">You don’t have any tasks. Add one!</div>
{% else %}
  <ul class="list">
    {% for t in tasks %}
      <li class="row">
        <a class="task-title" href="{{ url_for('task_detail', task_id=t._id) }}">{{ t.title }}</a>
        <div class="row-actions">
          <a class="btn secondary" href="{{ url_for('tasks_edit', task_id=t._id) }}">edit</a>
          <form method="post" action="{{ url_for('tasks_soft_delete', task_id=t._id) }}">
            <button class="btn danger" type="submit">delete</button>
          </form>
        </div>
      </li>
    {% endfor %}
  </ul>
{% endif %}

<a class="fab" href="{{ url_for('tasks_new') }}">＋</a>
{% endblock %}
