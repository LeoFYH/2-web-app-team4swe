{% extends "base.html" %}
{% block content %}
<h2 class="title">Search Task</h2>

<form class="searchbar" method="get" action="{{ url_for('search') }}">
  <input name="q" placeholder="Input text" value="{{ request.args.get('q','') }}">
  <input name="tag" placeholder="Tag (optional)" value="{{ request.args.get('tag','') }}">
  <button class="btn primary" type="submit">Search</button>
</form>

{% if searched %}
  {% if results|length == 0 %}
    <div class="empty">No tasks match your search. Try different tags or keywords.</div>
  {% else %}
    <ul class="list">
      {% for t in results %}
        <li class="row">
          <a class="task-title" href="{{ url_for('task_detail', task_id=t._id) }}">{{ t.title }}</a>
        </li>
      {% endfor %}
    </ul>
  {% endif %}
{% endif %}
{% endblock %}
